{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// https://pixabay.com/api/?key=43264129-0a20e73c7f6f9c0a58d1fd1ca&q=dog&image_type=photo&orientation=horizontal&safesearch=true\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43264129-0a20e73c7f6f9c0a58d1fd1ca';\n\nconst searchEl = document.querySelector('form');\nconst ulEl = document.querySelector('.gallery');\n\nsearchEl.addEventListener('submit', hendleSubmit);\n\nfunction hendleSubmit(event) {\n  event.preventDefault();\n  const form = event.target;\n  const inputEl = form.elements.imgName.value;\n  console.log(inputEl);\n\n  //console.log(searchImage(inputEl));\n  // .then(resp => (ulEl.innerHtml = createMarckup(resp))\n  // .catch(err => console.log(err)));\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: `${inputEl}`,\n    imege_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      console.log(data.hits);\n      ulEl.insertAdjacentHTML(\"beforeend\", createMarkup(data.hits))\n    })\n    .catch(error => console.log('catch', error));\n\n  function createMarkup(arrImg) {\n    return arrImg\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=${largeImageURL}>\n              <img \n                  class=\"gallery-image\" \n                  src=${webformatURL} \n                  alt=${tags}\n              />\n              <ul class=\"box-list\">\n                  <li>\n                      <h2 class=\"box-title\">Likes</h2>\n                      <p class=\"box-text\">${likes}</p>\n                  </li>\n                  <li>\n                      <h2 class=\"box-title\">Views</h2>\n                      <p class=\"box-text\">${views}</p>\n                  </li>\n                  <li class=\"box-item\">\n                      <h2 class=\"box-title\">Comments</h2>\n                      <p class=\"box-text\">${comments}</p>\n                  </li>\n                  <li class=\"box-item\">\n                      <h2 class=\"box-title\">Downloads</h2>\n                      <p class=\"box-text\">${downloads}</p>\n                  </li>\n              </ul>\n          </a>\n        </li>`\n      )\n      .join('');\n  }\n}\n"],"names":["BASE_URL","API_KEY","searchEl","ulEl","hendleSubmit","event","inputEl","params","response","data","createMarkup","error","arrImg","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"ssBACA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAW,SAAS,cAAc,MAAM,EACxCC,EAAO,SAAS,cAAc,UAAU,EAE9CD,EAAS,iBAAiB,SAAUE,CAAY,EAEhD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EADOD,EAAM,OACE,SAAS,QAAQ,MACtC,QAAQ,IAAIC,CAAO,EAMnB,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKN,EACL,EAAG,GAAGK,CAAO,GACb,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGN,CAAQ,IAAIO,CAAM,EAAE,EACjC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,QAAQ,IAAIA,EAAK,IAAI,EACrBN,EAAK,mBAAmB,YAAaO,EAAaD,EAAK,IAAI,CAAC,CAClE,CAAK,EACA,MAAME,GAAS,QAAQ,IAAI,QAASA,CAAK,CAAC,EAE7C,SAASD,EAAaE,EAAQ,CAC5B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA,yCAC2BL,CAAa;AAAA;AAAA;AAAA,wBAG9BD,CAAY;AAAA,wBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4CAKgBC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,4CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAK9C,EACA,KAAK,EAAE,CACX,CACH"}